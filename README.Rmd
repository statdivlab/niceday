---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# niceday

<!-- badges: start -->
<!-- badges: end -->

`niceday` is an `R` package for estimating fold-differences in multivariate outcomes across binary treatments and in the presence of other covariates. It uses a nonparametric approach, which means that under a given set of identifiability assumptions, no assumptions about the distribution of outcomes or the relationship between covariates and outcomes need to be made.

## Installation

To install and load `niceday`, use the following code.

``` r
# install.packages("remotes")
remotes::install_github("statdivlab/niceday")
library(niceday)
```

## Use

Consider a dataset with `20` samples split into a treatment and control group and `30` outcomes. `W` is the multivariate outcome matrix, `A` is the treatment vector, and `X` is the matrix of covariates that we would like to adjust for. 

```{r example}
library(niceday)

W <- data.frame(matrix(rpois(20 * 30, 100), nrow = 20, ncol = 30))
A <- rep(0:1, each = 10)
X <- data.frame(rnorm(20, 0, 1), sample(c(1:3), size = 20, replace = TRUE))

# fit niceday model
niceday_res <- ndFit(W = W, A = A, X = X)
# look at estimates across categories
plot(niceday_res$adjust$ABCD_g$taxon, niceday_res$adjust$ABCD_g$est)
```

## Citation

If you use `niceday` for your analysis, please cite our manuscript. 

Grant Hopkins, Sarah Teichman, Ellen Graham, and Amy Willis. "Nonparametric Identification and Estimation of Ratios of Multi-Category Means under Preferential Sampling." 

## Bug reports and feature requests 

If you identify a bug in `niceday` or have a feature request, please post an issue [here](https://github.com/statdivlab/niceday/issues). 

## Nomenclature

`niceday` stands for Nonparametrically Identified (de-Confounded) Estimands for Difference Abundance, Yippee!
